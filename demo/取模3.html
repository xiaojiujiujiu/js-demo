<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>取模</title>
	<style type="text/css">
		li{margin-bottom: 3px;line-height: 30px;list-style:none;width: 100%;height: 30px;}
	</style>
	<script type="text/javascript">
		window.onload=function(){
			var li=document.getElementsByTagName('li');
			var arr=['red','yellow','blue'];
			for(var i=0;i<li.length;i++){
				//li[i].index=i;
				var str='';
				li[i].style.background=arr[i%arr.length];
				li[i].onmouseover=function(){
					str=this.style.background;
					var thisBgColor =this.getAttribute('data-black');
						if(thisBgColor!=1){
							this.style.background='gray'
						}
					
				}
				li[i].onmouseout=function(){
					//this.style.background=arr[this.index%arr.length];
					var thisBgColor =this.getAttribute('data-black');
					if(thisBgColor!=1){
						this.style.background=str;
					}
					
				}
				li[i].onclick=function(){
					for(var j=0;j<li.length;j++){
						li[j].style.background=arr[j%arr.length];
					}
					this.setAttribute('data-black',1);
					this.style.background='black';
				}
			}
		}
	</script>
</head>
<body>
	<ul>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
	</ul>
</body>
</html>